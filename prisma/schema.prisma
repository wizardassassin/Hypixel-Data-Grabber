generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model BazaarItemLog {
  logId    String           @id @default(uuid())
  logRange AggregationRange

  productId      String
  lastUpdated    DateTime
  sellPriceSum   Float
  buyPriceSum    Float
  sellPrice      Float
  buyPrice       Float
  sellMovingWeek Float
  buyMovingWeek  Float
  sellVolume     Float
  buyVolume      Float
  sellOrders     Float
  buyOrders      Float

  @@unique([productId, lastUpdated, logRange])
}

enum AggregationRange {
  oneMinute
  fiveMinutes
  oneHour
  oneDay
}
